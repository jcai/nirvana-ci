FIXES #104 采用信号量的模式，能够支持在多个线程中使用
 9e9189a3b056a4b7fe6a1c330ad9df5c35e96d72